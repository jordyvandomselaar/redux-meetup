import QRCode from "qrcode.react";
import {Square, SquareItem} from "./Square"
import {Layout, Fit, Fill, Image, Appear, List, ListItem, Notes} from "spectacle";
import reduxLogo from "../assets/redux-logo-dark.png";
import jordy from "../assets/jordy.png";
import dij from "../assets/dij.svg";
import dan from "../assets/dan.png";
import theMomentHeKnewHeWasScrewed from "../assets/the-moment-he-knew-he-was-screwed.png";
import "./index.css";

<Image src={reduxLogo} />

> A Predictable State Container for JS Apps

<Notes>

* Has anyone heard of Redux before?
* Has anyone used Redux before?
* Who's used any state management solution at all?

</Notes>

---

<Layout>

<Fill>

<Image className="image--rounded" src={jordy} />

</Fill>

<Fill>

<div className="about-me">

# About me

<br />

<div>

Jordy van Domselaar,

Software engineer @ 

<br />

<Image src={dij} />

</div>

</div>

</Fill>
</Layout>

---

<Layout>
<Image src={theMomentHeKnewHeWasScrewed}/>
</Layout>

---

# A little bit of history

<List>
<Appear><ListItem>The notification problem @ Facebook</ListItem></Appear>
<Appear><ListItem>Flux</ListItem></Appear>
<Appear><ListItem>Fluxxor, Reflux, Redux</ListItem></Appear>
</List>

---

# What is Redux?

<Image src={dan} className="image--rounded dan"/>

* Framework agnostic
* State management tool

<Appear>
<div>

![That's all](https://media.giphy.com/media/lD76yTC5zxZPG/giphy.gif)

</div>
</Appear>

---

# Why Redux

<List>
<Appear><ListItem>Complex/large state</ListItem></Appear>
<Appear><ListItem>Single source of truth</ListItem></Appear>
<Appear><ListItem>Shared state</ListItem></Appear>
<Appear><ListItem>Helps bring structure to your state</ListItem></Appear>
<Appear><ListItem>Plugins (Persisting state to local storage anyone?)</ListItem></Appear>
<Appear><ListItem>Maintainability</ListItem></Appear>
<Appear><ListItem>Testing</ListItem></Appear>
</List>

<Appear>
<div>

# Why not Redux

<List>
<Appear><ListItem>Trade-offs</ListItem></Appear>
<Appear><ListItem>Learning curve</ListItem></Appear>
<Appear><ListItem>Functional-ish programming</ListItem></Appear>
<Appear><ListItem>Additional ecosystem</ListItem></Appear>
</List>
</div>
</Appear>

---

# Why decouple state from your app?

<List>
<Appear><ListItem>Re-use state</ListItem></Appear>
<Appear><ListItem>Debugging</ListItem></Appear>
<Appear><ListItem>Pre-fill state</ListItem></Appear>
<Appear><ListItem>Seperation of rendering logic from data logic</ListItem></Appear>
</List>

---

# Redux step-by-step

---

# Actions

<List>
<Appear><ListItem>Describes what happens</ListItem></Appear>
<Appear><ListItem>Can hold data</ListItem></Appear>
<Appear><ListItem>Dispatched</ListItem></Appear>
</List>

<Appear>
<div>

```javascript
{
  type: "ADD_TODO",
  text: 'Build my first Redux app'
}
```

</div>
</Appear>

---

# Reducers

<List>
<Appear><ListItem>Describes how something happens</ListItem></Appear>
<Appear><ListItem>Pure functions</ListItem></Appear>
</List>

<Appear>
<div>

```javascript
import {
  ADD_TODO,
} from './actions';

function todoApp(state, action) {
  switch (action.type) {
    case ADD_TODO:
        return {
            ...state,
            todos: [
                ...state.todos,
                {
                    text: action.text,
                    completed: false
                }
            ]
        }
    default:
      return state
  }
}
```

</div>
</Appear>

---

# Store

<List>
<Appear><ListItem>Holds your app's state</ListItem></Appear>
</List>

<Appear>
<div>

```javascript
   import { createStore } from 'redux';
   import todoApp from './reducers';
   const store = createStore(todoApp);
```

</div>
</Appear>

---

# Tips

<List ordered>
<Appear><ListItem>Keep your state normalized</ListItem></Appear>
<Appear><ListItem>Container components</ListItem></Appear>
<Appear><ListItem>Action creators</ListItem></Appear>
<Appear><ListItem>Use constants for your action names</ListItem></Appear>
<Appear><ListItem>Immer</ListItem></Appear>
</List>

---

# Example

---

# Ecosystem

<List>
<Appear><ListItem>https://github.com/reduxjs/react-redux</ListItem></Appear>
<Appear><ListItem>https://github.com/reduxjs/redux-thunk</ListItem></Appear>
</List>

---

# FAQ

---

# Should I convert my current/next project into Redux?

---

# Maybe.

<br />

Are you happy with the way it works right now?

---

# Should I put all my state in Redux?

---

![no](https://media.giphy.com/media/gnE4FFhtFoLKM/giphy.gif)

---

# What state to put into Redux

<List>
<Appear><ListItem>(API) Data</ListItem></Appear>
<Appear><ListItem>App State</ListItem></Appear>
<Appear><ListItem>Data needed across pages</ListItem></Appear>
</List>

---

# Alternatives

---

# React context + `useReducer()`

* Built into React 16.8+

---

# MobX

> Simple, scalable state management.

* Mutable state
* Observers
* Computed values
* Reactions

---

# Unstated

> State so simple, it goes without saying

* Simple AF
* A global `setState()`

---

# Apollo Link State

> Manage your local data with Apollo Client

* GraphQL all the things üëå

---

# Pick whichever works for you, your project, your team. ¬†¬†

---

# Thanks for attending ‚ù§Ô∏è

<br />

<Layout>

<Fill>

[https://jordy.app](https://jordy.app)

<QRCode value="https://jordy.app" size={256} />

</Fill>
<Fill>

`@Jordy_vD_`

<QRCode value="https://twitter.com/Jordy_vD_" size={256} />

</Fill>
</Layout>

<br />   

[https://github.com/jordyvandomselaar/redux-meetup](https://github.com/jordyvandomselaar/redux-meetup)

<QRCode value="https://github.com/jordyvandomselaar/redux-meetup" size={256} />

